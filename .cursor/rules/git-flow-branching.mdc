---
description: Git-flow branching strategy
globs:
alwaysApply: true
---

# Git-Flow Branching Strategy

This project follows the git-flow branching model.

## Main Branches

- **`main`**: Production-ready code. Only receives merges from `release` and `hotfix` branches.
- **`develop`**: Integration branch for features. This is the default working branch.

## Supporting Branches

### Feature Branches
- **Naming**: `feature/<feature-name>` (e.g., `feature/add-dark-mode`)
- **Branch from**: `develop`
- **Merge into**: `develop`
- **Purpose**: New features and non-emergency fixes

```bash
# Create feature branch
git checkout develop
git checkout -b feature/my-feature

# When complete, merge back
git checkout develop
git merge --no-ff feature/my-feature
git branch -d feature/my-feature
```

### Release Branches
- **Naming**: `release/<version>` (e.g., `release/1.2.0`)
- **Branch from**: `develop`
- **Merge into**: `main` AND `develop`
- **Purpose**: Prepare for production release, version bumps, final fixes

```bash
# Create release branch
git checkout develop
git checkout -b release/1.2.0

# When ready, merge to main and develop
git checkout main
git merge --no-ff release/1.2.0
git tag -a v1.2.0 -m "Version 1.2.0"

git checkout develop
git merge --no-ff release/1.2.0
git branch -d release/1.2.0
```

### Hotfix Branches
- **Naming**: `hotfix/<issue>` (e.g., `hotfix/critical-bug`)
- **Branch from**: `main`
- **Merge into**: `main` AND `develop`
- **Purpose**: Emergency production fixes

```bash
# Create hotfix branch
git checkout main
git checkout -b hotfix/critical-bug

# When fixed, merge to main and develop
git checkout main
git merge --no-ff hotfix/critical-bug
git tag -a v1.2.1 -m "Hotfix 1.2.1"

git checkout develop
git merge --no-ff hotfix/critical-bug
git branch -d hotfix/critical-bug
```

## Commit Message Convention

Use conventional commits:

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

**Types**:
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation only
- `style`: Formatting, no code change
- `refactor`: Code change that neither fixes a bug nor adds a feature
- `perf`: Performance improvement
- `test`: Adding or updating tests
- `chore`: Maintenance tasks

**Examples**:
```
feat(themes): add Dracula theme
fix(docs): correct theme selector dropdown alignment
docs: update README with installation instructions
chore: update dependencies
```

## Workflow Summary

1. Create feature branches from `develop`
2. Work on features, commit frequently
3. Merge completed features back to `develop`
4. When ready for release, create `release` branch from `develop`
5. Test and fix issues on release branch
6. Merge release to `main` and tag with version
7. Merge release back to `develop`
8. For production emergencies, create `hotfix` from `main`
