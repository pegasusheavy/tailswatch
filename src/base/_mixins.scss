// ============================================
// TAILSWATCH SCSS MIXINS
// Reusable style patterns and utilities
// ============================================

@use "sass:map";
@use "sass:list";
@use "variables" as *;

// ----------------------------------------
// Theme Generation
// ----------------------------------------

/// Generate a complete color scale for a given base color
/// @param {String} $name - The color name (e.g., "primary")
/// @param {Map} $shades - Map of shade values (50-950)
@mixin generate-color-scale($name, $shades) {
  @each $shade, $value in $shades {
    --color-#{$name}-#{$shade}: #{$value};
  }
}

/// Generate semantic color tokens
/// @param {Map} $tokens - Map of semantic token names to values
@mixin generate-semantic-tokens($tokens) {
  @each $token, $value in $tokens {
    --color-#{$token}: #{$value};
  }
}

// ----------------------------------------
// Typography
// ----------------------------------------

/// Apply fluid typography scaling
/// @param {String} $min-size - Minimum font size
/// @param {String} $max-size - Maximum font size
/// @param {String} $min-vw - Minimum viewport width
/// @param {String} $max-vw - Maximum viewport width
@mixin fluid-type($min-size, $max-size, $min-vw: 320px, $max-vw: 1200px) {
  font-size: $min-size;

  @media (min-width: $min-vw) {
    font-size: calc(
      #{$min-size} + #{strip-unit($max-size - $min-size)} *
        ((100vw - #{$min-vw}) / #{strip-unit($max-vw - $min-vw)})
    );
  }

  @media (min-width: $max-vw) {
    font-size: $max-size;
  }
}

// ----------------------------------------
// Layout
// ----------------------------------------

/// Center content using flexbox
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/// Create a responsive container
/// @param {String} $max-width - Maximum container width
/// @param {String} $padding - Horizontal padding
@mixin container($max-width: 80rem, $padding: 1rem) {
  width: 100%;
  max-width: $max-width;
  margin-inline: auto;
  padding-inline: $padding;
}

// ----------------------------------------
// Visual Effects
// ----------------------------------------

/// Apply a smooth transition
/// @param {String} $properties - Properties to transition (default: all)
/// @param {String} $duration - Transition duration
/// @param {String} $easing - Timing function
@mixin transition($properties: all, $duration: 200ms, $easing: $ease-default) {
  transition-property: $properties;
  transition-duration: $duration;
  transition-timing-function: $easing;
}

/// Apply a focus ring style
/// @param {Color} $color - Ring color
/// @param {String} $width - Ring width
/// @param {String} $offset - Ring offset
@mixin focus-ring($color: var(--color-primary-500), $width: 2px, $offset: 2px) {
  outline: $width solid $color;
  outline-offset: $offset;
}

// ----------------------------------------
// Utilities
// ----------------------------------------

/// Strip unit from a number
/// @param {Number} $number - Number with unit
/// @return {Number} - Unitless number
@function strip-unit($number) {
  @if type-of($number) == "number" and not unitless($number) {
    @return calc($number / ($number * 0 + 1));
  }
  @return $number;
}

/// Get a value from the spacing scale
/// @param {String} $key - Spacing key
/// @return {String} - Spacing value
@function space($key) {
  @return map.get($spacing, $key);
}

/// Get a value from the radius scale
/// @param {String} $key - Radius key
/// @return {String} - Radius value
@function radius($key) {
  @return map.get($radius, $key);
}

/// Get a shadow value
/// @param {String} $key - Shadow key
/// @return {String} - Shadow value
@function shadow($key) {
  @return map.get($shadows, $key);
}

